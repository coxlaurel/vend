<!DOCTYPE html>

<html lang="en">
<head >
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Electrical Design | VEND</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="https://kit.fontawesome.com/2c5646d0e9.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body class="content">
    <header>
        <a href="index.html"><i class="fa-solid fa-arrow-left"></i></a>
        <a href="index.html">return to main page</a>
        <h1>Electrical Design</h1>
    </header>

    <main>
        <div>
            <img src="assets/images/electrical-schematic.png" class="schematic" alt="Electrical Schematic">
            <figcaption class="schematic_caption">Fig. 1: Electrical Schematic of System</figcaption>
        </div>
        <p>The electrical component of the vending machine is responsible for processing signals generated by the user and sending signals and power to the correct motors and lights. The motors connect to the coils that dispense the products and the lights signal to the user when their item is being dispensed.</p>
        <p>The main components of the electrical system of the vending machine consists of six
            <a href="https://www.adafruit.com/product/918">32-step 1/16-gearing stepper motors</a>
            , six <a href="https://www.pololu.com/product/1182">A4988 stepper drivers</a>
            , a <a href="https://cdn-shop.adafruit.com/datasheets/WS2812B.pdf">WS2812B RGB LED strip</a>
            , an <a href="https://cdn-shop.adafruit.com/product-files/3930/ITR20001-T.pdf">ITR20001/T Opto Interrupter IR Sensor</a>
            , an AC/DC power adapter, an Arduino UNO R3, and a Raspberry Pi 3B+. 
        </p>
        <p>The user interacts with the machine by selecting the item they want dispensed on a touchscreen connected to the Raspberry Pi. This generates a signal that is transmitted to the Arduino through a USB serial connection. The Arduino is connected to the six stepper motors through 6 A4988 stepper drivers. The drivers draw power from an outlet through the power adapter to ensure that they’re receiving standard 12V DC. We also used a 100µF bypass capacitor to smooth out the 12V power supply.</p>
    <h2>Motor Drivers</h2>
    <p>Six A4988 stepper motor drivers were used to operate the stepper motors. Each motor driver requires power for both the motors and the logic pins. For the motors, we drew power through an outlet and power adapter as mentioned above. For the logic pins, we wired them to the 5V and GND pins on the Arduino. Each motor driver requires digital signal inputs to set the number of steps and the direction of the motor. We wired those pins to the digital GPIO pins on the Arduino. There are four pins on the motor driver board that correspond to four of the nodes on the motors, with the fifth going to ground. The system operates the motors through the Arduino, sending signals through the digital pins.</p>
    <h2>IR Sensor</h2>
    <p>Additionally, the IR Sensor was integrated to operate the coin slot in order to detect coins passing through the coin slot. The reflective sensor runs a parallel circuit with an IR LED and a phototransistor. The IR LED runs in series with a 200Ω resistor. The phototransistor side of the circuit uses a resistor to generate a voltage drop and set the forward current for the phototransistor, and we track the voltage between the resistor and the phototransistor as the voltage varies in correspondence with the phototransistor. If the phototransistor senses more reflected infrared light, then more voltage can pass through, which will be reflected in the voltage sensor. To trigger a voltage drop of around 3.8V, since the phototransistor runs optimally at around 1.2V, we used a 300kΩ resistor to also set a current at 10µA. In order to get readings from the IR sensor, we tracked the voltage drops between the resistor and phototransistor using an analog pin on the Arduino. The system operates automatically with no input needed from the Arduino.</p>
    <h2>LEDs</h2>
    <p>The WS2812B RGB LED strip utilizes 5V input, a digital input pin, and a ground wire. We operated it by linking it to the 5V power and ground pins on the Arduino and using a digital GPIO pin on the Arduino to send the RGB values to set the light colors and allow for patterns to be made. </p>
    </main>
    
    <footer>
        <p>2024 VEND. Thanks for reading &lt;3 </p>
    </footer>
</body>
</html>